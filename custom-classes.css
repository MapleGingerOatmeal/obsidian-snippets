/** =======================================
    CODE STYLES
    ======================================= */

/** 
   Make code blocks render immediately after preceeding text, with minimal gap 
   Source: https://forum.obsidian.md/t/distance-between-code-block-and-text-paragraph/82393/2  
 */

 .code-no-top-margin .markdown-rendered div:has(> h1) + div:has(pre),
 .code-no-top-margin .markdown-rendered div:has(> h2) + div:has(pre),
 .code-no-top-margin .markdown-rendered div:has(> h3) + div:has(pre),
 .code-no-top-margin .markdown-rendered div:has(> h4) + div:has(pre),
 .code-no-top-margin .markdown-rendered div:has(> h5) + div:has(pre),
 .code-no-top-margin .markdown-rendered div:has(> h6) + div:has(pre),
 .code-no-top-margin .markdown-rendered div:has(> p) + div:has(pre) {
     margin-top: -14px;
 }

/** =======================================
    HEADING STYLES
    ======================================= */

/* White headings */

.white-headings {
    --bold-color: var(--text-normal);
    --inline-title-color: var(--text-normal);
    --h1-color: var(--text-normal);
    --h2-color: var(--text-normal);
    --h3-color: var(--text-normal);
    --h4-color: var(--text-normal);
    --h5-color: var(--text-normal);
    --h6-color: var(--text-normal);
}

/* Alternating heading colors */

.alternating-headings {
    --bold-color: var(--text-normal);
    --inline-title-color: var(--text-normal);
    --h1-color: var(--text-normal);
    --h2-color: var(--text-accent);
    --h3-color: var(--text-normal);
    --h4-color: var(--text-accent);
    --h5-color: var(--text-normal);
    --h6-color: var(--text-accent);
}

/** =======================================
    IMAGE STYLES
    ======================================= */

/* Simple image borders */

.image-borders img {
    border: 1px solid var(--background-modifier-border);
}

/** =======================================
    TABLE STYLES
    ======================================= */

/* Borderless tables  */

.borderless-tables table {
    --table-border-color: transparent;
    --table-header-border-color: transparent;
}

.borderless-tables-single-row {
    --table-border-color: transparent;
    --table-header-border-color: transparent;
    --table-header-weight: normal;
}

/* Even table columns */

.even-table-columns-2 table {
    width: 100% !important;
}
  
.even-table-columns-2 td,
.even-table-columns-2 th {
    width: 50% !important;
}

/* Alternating table row colors */

.table-rows-alternating tr:nth-child(even) {
    background-color: var(--background-primary-alt);
}

/* Colored/filled/unbolded table header */

.table-header-filled thead{
    background-color: var(--background-secondary-alt);
    --table-header-border-color: var(--background-primary);
}

.table-header-colored thead {
    background-color: rgba(var(--color-accent-rgb), 0.4);
}

.table-header-no-bold thead th {
    font-weight: var(--text);
}

/* Heavier-bordered tables */

.table-borders-heavy table {
    --table-column-first-border-width: 3px;
    --table-column-last-border-width: 3px;
    --table-row-first-border-width: 3px;
    --table-row-last-border-width: 3px;
    --table-header-border-width: 3px;
}

/* Tables with more padding */

.table-more-padding table {
    --table-line-height: 1.5;
}


/** =======================================
    NOTE-SPECIFIC CLASSES
    ======================================= */

/* === Color Highlighter demo (targets Live Preview) ===  */

.ch-demo .markdown-rendered h5 { line-height: 0.5; }
.ch-demo .markdown-rendered h2 { margin-bottom: 1em; }
.ch-demo .markdown-rendered hr { margin: 0.5em; }
.ch-demo .markdown-rendered h5[data-heading="â€¢ In code blocks:"] { padding-bottom: 0.5em; }
.ch-demo { --bold-color: var(--text-normal); }

/* === Home note === */

.home .markdown-rendered ul { margin-block-start: 0; }

.home {
    --h1-color: var(--color-lime);
    --h2-size: var(--h1-size);
    --h2-color: var(--color-purple);
    --h3-color: var(--text-normal);
    --link-color: var(--color-accent);
}

/* === Journal notes (daily notes and monthly overviews) === */

/* --- Reading mode --- */

.daily-note {
    --h5-color: var(--color-purple);
    --h5-size: 1.4em;
}

.daily-note h5 {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.daily-note h5 > .heading-collapse-indicator {
    display: none;
}

/* Previous arrow */
.daily-note h5 > a:first-of-type {
    margin-right: auto;
    text-decoration-line: none;
}

/* Next arrow */
.daily-note h5 > a:last-of-type {
    margin-left: auto;
    text-decoration-line: none;
}

/* Calendar icon */
.daily-note h5 > :not(a:first-of-type):not(a:last-of-type) {
    margin: 0 0.5em;
    padding-bottom: 0.25em;
}

/* --- Live Preview --- */

.daily-note .HyperMD-header-5 {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

/* Previous arrow */
.daily-note .HyperMD-header-5 .cm-hmd-internal-link:first-of-type {
    order: 1;
    margin-right: auto;
}

/* Date */
.daily-note .HyperMD-header-5 > .cm-header:not(.cm-hmd-internal-link) {
    order: 2;
    flex: 1;
    text-align: center;
}

/* Calendar icon */
.daily-note .HyperMD-header-5 .cm-iconize-icon {
    order: 3;
    margin-left: 0.25em;
}

/* Next arrow */
.daily-note .HyperMD-header-5 .cm-hmd-internal-link:last-of-type {
    order: 4;
    margin-left: auto;
}

/* Hide unnecessary elements */
.daily-note .HyperMD-header-5 .cm-fold-indicator,
.daily-note .HyperMD-header-5 .cm-widgetBuffer {
    display: none;
}

/* Ensure arrows are styled consistently */
.daily-note .HyperMD-header-5 .cm-hmd-internal-link a {
    font-size: 1.3em;
    text-decoration: none;
}

/* Adjust padding for mobile */
.is-mobile .daily-note .HyperMD-header-5 .cm-hmd-internal-link a {
    padding: 0 14px;
}

/* Remove underline from next day arrow and make it match previous arrow color */
.daily-note.markdown-source-view.mod-cm6 .HyperMD-header-5 .is-unresolved .cm-underline {
    text-decoration: none;
    color: var(--link-color);
}

/* --- Daily tasks callout --- */

.daily-note .callout-content .task-list-item { margin-left: 0.25em; }

.daily-note .callout .contains-task-list .task-list-item-checkbox {
    margin-inline-start: 0;
    margin-inline-end: 0.75em;
}

/* Hide the "Log" heading of embedded daily notes in monthly overviews */
.markdown-embed-content .markdown-preview-view .mod-header + div > h2[data-heading="Log"] { display: none; }

/* Add back padding taken away by previous rule */
.markdown-embed-content .markdown-preview-view .mod-header { margin-bottom: 20px; }